{% extends 'base.html' %}

{% block content %}

<div class="container">
    
    <div class="row">
        <div class="col s12">
            <ul class="tabs">
                <li class="tab col s3"><a href="#friendrequests">Accept</a></li>
                <li class="tab col s3"><a class="active" href="#myfriends">My</a></li>
                <li class="tab col s3"><a href="#addfriends">Add</a></li>
                <li class="tab col s3"><a href="#sentrequests">Sent</a></li>
            </ul>
        </div>
        <!-- Friend Requests -->
        <div id="friendrequests" class="col s12">
            <div class="row">
                {% if recievedreqs %}
                <h3>Friend Requests</h3>
                {% for user in recievedreqs %}
                <div class="col s12 m6">
                    <div class="card">
                        <div class="card-content row">
                            <span class="card-title col s12 m12 l4">
                                {{ user.first_name }} {{ user.last_name }} <br>
                                ({{ user.username}})
                            </span>
                            <span class="col s12 m12 l4 right-align">
                                <a class="btn green darken-4" href="{% url 'friendrequestaccept' user.id %}" >Accept</a>
                            </span>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}
            </div>
        </div>
        <!-- My Friends -->
        <div id="myfriends" class="col s12">
            <div class="row">
                {% if friends %}
                <h3>My Friends</h3>
                {% for user in friends %}
                <div class="col s12 m6">
                    <div class="card">
                        <div class="card-content row">
                            <span class="card-title col s12 m12 l8">
                                {{ user.first_name }} {{ user.last_name }} <br>
                                ({{ user.username}})
                            </span>
                            <span class="col s12 m12 l4 right-align">
                                <a class="btn red darken-4" href="{% url 'removefriend' user.id %}" >Unfriend</a>
                            </span>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}
            </div>
        </div>
        <!-- Add Friends -->
        <div id="addfriends" class="col s12">
            <div class="row">
                {% if nonfriends %}
                <h3>Add Friends</h3>
                {% for user in nonfriends %}
                <div class="col s12 m6">
                    <div class="card">
                        <div class="card-content row">
                            <span class="card-title col s12 m12 l8">
                                {{ user.first_name }} {{ user.last_name }} <br>
                                ({{ user.username}})
                            </span>
                            <span class="col s12 m12 l4 right-align">
                                <a class="btn teal darken-2" href="{% url 'addfriend' user.id %}" >Add</a>
                            </span>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}
            </div>
        </div>
        <!-- Sent Requests -->
        <div id="sentrequests" class="col s12">
            <div class="row">
                {% if sentreqs %}
                <h3>Requested Friends</h3>
                {% for user in sentreqs %}
                <div class="col s12 m6">
                    <div class="card">
                        <div class="card-content row">
                            <span class="card-title col s12 m12 l8">
                                {{ user.first_name }} {{ user.last_name }} <br>
                                ({{ user.username}})
                            </span>
                            <span class="col s12 m12 l4 right-align">
                                <a class="btn orange darken-4" href="{% url 'friendrequestcancel' user.id %}" >Cancel</a>
                            </span>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}
            </div>
        </div>
  </div>
</div> 
{% endblock %}